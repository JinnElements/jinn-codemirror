import{LRParser as O}from"@lezer/lr";const e=O.deserialize({version:14,states:"&xOQOPOOOQOPO'#C^OQOPO'#C_OQOPO'#C`O!_OQO'#CaO!gOPO'#ChO#hOPO'#CiOOOO'#Ck'#CkO#rOPO'#ClO!gOPO'#CmOOOO'#DR'#DROOOO'#Cn'#CnOOOO'#C|'#C|OOOO'#Cu'#CuOOOO'#Cr'#CrQQOPOOO#wOPO,58xO$OOPO,58yO$VOPO,58zOQOPO,58{OQOPO,58}OOOO'#Cs'#CsO$^OPO,59SO$eOPO,59TOOOO,59T,59TO$oOPO,59TO$tOPO,59WO$yOPO,59XOOOO-E6p-E6pOOOO1G.d1G.dOOOO1G.e1G.eOOOO1G.f1G.fO%TOPO1G.gO%[OPO1G.iOOOO-E6q-E6qOOOO1G.n1G.nOOOO1G.o1G.oO%cOPO1G.oOOOO1G.r1G.rOOOO1G.s1G.sO%hOPO1G.sOOOO7+$R7+$ROOOO7+$T7+$TOOOO7+$Z7+$ZOOOO7+$_7+$_",stateData:"%r~OX[OY[OZ[OcZOd[Oe[OjPOlQOnROoSOqTOsUOvVOwWOyXOzZO{ZO|ZO}ZO~OUcOWdO~OX[OY[OZ[OcZOd[Oe[OqTOsUOvVOwWOyXOzZO{ZO|ZO}ZO~O^iOthO~P!gOZjO~OkmO~PQOmnO~PQOmoO~PQOrsO~P!gO^uOttO~P!gOttO~OxvO~O^xOxwO~P!gOmyO~PQOmzO~PQOt{O~Ox|O~OYZzY~",goto:"$ovPPwwwwPwPPPP!V!VP!k!k!k!VPPP#P#kP#yPPPPPP$XPPPP!Vi]OPQR_`abcdpqu[OPQRTUX_`abcdfgkpquYOPQRTUX_`abcdfgkpqQ_OQ`PQaQQbR[l_`abpqQpcRqdQfTQgUQkXVrfgki^OPQR_`abcdpqh]OPQR_`abcdpq]eTUXfgk",nodeNames:"âš  Document Div Recto Verso Part PartId Fragment FragmentNum LineBreakWrapped LineBreak Number Abbrev Supplied CertLow GapUnknown Gap SuppliedLost Text QuestionMark Illegible Unclear",maxTerm:45,skippedNodes:[0],repeatNodeCount:2,tokenData:"/l~RhOp!mpq%nqx!mxy%vyz&^z!O!m!O!P&f!P!Q!m!Q!['R![!^!m!^!_*l!_!`+r!`!a,b!a!b,j!b!c!m!c!},r!}#O.t#O#P!m#P#Q/d#Q#T!m#T#o,r#o2e!m2e2f#b2f~!m~!rYzPOp#bqx#bz!O#b!P!Q#b![!^#b!b!}#b#O#P#b#Q2e#b2e2f$P2f~#bP#gWzPOp#bqx#bz!O#b!P!Q#b![!^#b!b!}#b#O#P#b#Q~#b~$Wae~zPOp!mpq%]qx!mxz%]z!O!m!O!P%]!P!Q!m!Q![%]![!^!m!^!b%]!b!}!m!}#O%]#O#P!m#P#Q%]#Q2e!m2e2f#b2f~!m~%`P2e2f%c~%hQe~O2e%]2f~%]~%sP|~2e2f%c~%{Qq~!a!b&R2e2f%c~&UPyz&X~&^O^~~&cPr~2e2f%c~&kR{~!Q![&t!a!b&|2e2f%c~&yPd~!Q![&t~'ROd~~'WTZP!O!P'g!Q![)t!c!}*V#T#o*V2e2f%c~'lSYPpq'x}!O'}#Y#Z([#d#e)]P'}OYP~(SPX~pq(V~([OX~~(_P#f#g(b~(eP#T#U(h~(kP#Z#[(n~(qP#a#b(t~(wP#X#Y(z~(}P#b#c)Q~)TP#h#i)W~)]OW~Q)`P#T#U)cQ)fP#f#g)iQ)lP#h#i)oQ)tOUQ~)ySZP!O!P'g!Q![)t!c!}*V#T#o*VQ*YS!O!P*f!Q![*V!c!}*V#T#o*VQ*iP#d#e)]~*qRs~!_!`*z!f!g+P2e2f%c~+POj~~+SP!_!`+V~+YP!O!P+]~+bQo~#f#g+h#j#k+m~+mOl~~+rOn~~+wR}~!`!a,Q!f!g,V2e2f%c~,VOk~~,YP!`!a,]~,bOm~~,gPt~2e2f%c~,oPc~2e2f%c~,w_zPOp#bqx#bz!O#b!O!P*f!P!Q#b!Q![*V![!^#b!b!c#b!c!}-v#O#P#b#Q#T#b#T#o-v#o2e#b2e2f$P2f~#bR-{]zPOp#bqx#bz!O#b!O!P*f!P!Q#b!Q![*V![!^#b!b!c#b!c!}-v#O#P#b#Q#T#b#T#o-v#o~#b~.yQy~!O!P/P2e2f%c~/UPw~!a!b/X~/[P#P#Q/_~/dOv~~/iPx~2e2f%c",tokenizers:[0,1],topRules:{Document:[0,1]},tokenPrec:213});function t(O){return a(e.parse(O),O)}function a(O,e){function t(O){return e.substring(O.from,O.to)}const a=[],r=[];let P;return O.iterate({enter:O=>{if(O.type.isError)return void r.push(`\x3c!-- Error:${t(O)} --\x3e`);const e=O.name;switch(e){case"Text":r.push(t(O));break;case"LineBreak":O.firstChild(),P=/^([0-9]+)\..*$/.exec(t(O)),r.push(`<lb n="${P?P[1]:""}"/>`);break;case"LineBreakWrapped":O.firstChild(),P=/^([0-9]+)\..*$/.exec(t(O)),r.push(`<lb n="${P?P[1]:""}" break="no"/>`);break;case"Document":break;case"Div":r.push("<ab>");break;case"Recto":case"Verso":r.push('<div n="r" type="textpart">');break;case"Fragment":O.firstChild(),P=/^([0-9]+)\..*$/.exec(t(O)),r.push(`<div n="${P?P[1]:""}" subtype="fragment" type="textpart">`);break;case"Part":O.firstChild(),P=/^([a-zA-Z0-9]+)\..*$/.exec(t(O)),r.push(`<div n="${P?P[1]:""}" subtype="part" type="textpart">`);break;case"Unclear":const s=t(O);let n="";for(let O=0;O<s.length;O++){const e=s.codePointAt(O);e&&803!==e&&(n+=String.fromCodePoint(e))}return r.push(`<unclear>${n}</unclear>`),!1;case"Gap":return O.next(!0),r.push(`<gap reason="lost" quantity="${t(O)}" unit="character"/>`),!1;case"GapUnknown":return r.push('<gap reason="lost" extent="unknown" unit="character"/>'),!1;case"Illegible":return P=/^\.([0-9?]+).*$/.exec(t(O)),P&&"?"===P[1]?r.push('<gap reason="illegible" extent="unkown" unit="character"/>'):r.push(`<gap reason="illegible" quantity="${P?P[1]:""}" unit="character"/>`),!1;case"Abbrev":a.length>0?(O.lastChild(),P=t(O),P.length>0&&"?"===P.charAt(P.length-1)?r.push('<ex cert="low">'):r.push("<ex>"),O.parent()):r.push("<expan>"),a.push("expan");break;case"Supplied":O.lastChild(),"CertLow"===O.name?r.push('<supplied reason="omitted" cert="low">'):r.push('<supplied reason="omitted">'),O.parent();break;case"SuppliedLost":O.lastChild(),"CertLow"===O.name?r.push('<supplied reason="lost" cert="low">'):r.push('<supplied reason="lost">'),O.parent();break;case"CertLow":return!1;case"QuestionMark":return a.length<2&&r.push("?"),!1;default:r.push(`<${e}>`)}},leave:O=>{switch(O.name){case"Abbrev":if(a.length>1){const O=r[r.length-1];O.endsWith("?")&&(r[r.length-1]=O.substring(0,O.length-2)),r.push("</ex>")}else r.push("</expan>");a.pop();break;case"Div":r.push("</ab>");break;case"Recto":case"Verso":case"Fragment":case"Part":r.push("</div>");break;case"Supplied":case"SuppliedLost":r.push("</supplied>")}}}),r.join("")}export{t as l,e as p,a as s};
